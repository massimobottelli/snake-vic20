10 dima(9)
20 forn=0to9:reada(n):next
30 dimp(506)
40 i=1:l=6:a=29:sc=0
50 deffnr(x)=int(rnd(1)*(x+1))
60 poke36878,15
70 poke36879,8
80 printchr$(147)
90 cp=fnr(505)
100 p=fnr(14)
110 hp=fnr(505)
120 ifhp=cpthen110
130 poke7680+hp,83
140 poke38400+hp,2
150 gosub280
170 geta$:ifa$<>""thena=asc(a$)
180 ifa=29thendp=1
190 ifa=157thendp=-1
200 ifa=145thendp=-22
210 ifa=17thendp=22
220 cp=cp+dp
230 ifcp<0orcp>505thencp=1
240 gosub280
250 ifcp=hpthen350
260 poke36874,200:fort=1to50:next:poke36874,0
270 goto170
280 p(i)=cp
290 poke7680+cp,81
300 poke38400+cp,1
310 i=i+1
320 ifi>lthenpoke38400+p(i-l),0
330 ifi>lthen450
340 return
350 l=l+3
360 sc=sc+1
370 printchr$(19)chr$(159)sc
380 poke36878,15
390 forr=0to9
400 poke36874,a(r)
410 fort=1to50:next
420 next
430 poke36874,0
440 goto110
450 forc=i-ltoi-3
460 ifcp=p(c)thenpoke7680+cp,42
470 ifcp=p(c)then500
480 next
490 return
500 forr=9to0step-1
510 poke36874,a(r)
520 fort=1to50:next
530 next
540 poke36878,0:poke36874,0
550 fort=1to1000:next
560 poke36879,27
570 printchr$(147)chr$(31)
900 data 195,199,201,203,207,209,212,215,217,219
